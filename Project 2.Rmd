---
title: "Project 2"
author: "Collin McGuire"
date: "9/30/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r Part 1 - Loading Necessary Packages}
library(tidyverse)
library(tidytuesdayR)
```

```{r Part 1A - Exponential Transformation}
## LMAO WTFn
Exp <- function(x, k){
  if(k == 1) {
   result <- 1 + x
  } else if(k == 2) {
      result <- 1 + x + (x^k)/factorial(k)
  } else{
      output3 <- vector("double", length=(k-2))
      for(i in 3:k) {
        output3 <- c((x^i)/factorial(i))
      }
      vecsum <- sum(output3)
   result <- 1 + x + vecsum
  }
  print(result)
}

Exp(2, 5)


```

```{r Part 1B - Sample Mean and Std Dev}

sample_mean <- function(x) {
  arith_mean <- sum(x)/length(x)
}
  
  
sample_sd <- function(x) {
  l <- length(x)
  m <- sum(x)/l
  for(i in 1:l) {
    sum_of_dif <- c((i-m)^2)
  }
  stddev <- sum_of_dif/(l-1)
}

```


```{r Part 1C - Confidence Intervals}
calculate_CI <- function(x, conf) {
  alpha = 1 - conf
  dof <- length(x)-1
  t_score = qt(p=alpha/2, df = dof, lower.tail = FALSE)
  upper <- sample_mean(x) + (t_score*sample_sd(x))
  lower <- sample_mean(x) - (t_score*sample_sd(x))
  answer <- c(upper, lower)
}


```


```{r Part 2 - Wrangling Data Part 1}
library(here)
if(!file.exists(here("data","tuesdata_rainfall.RDS"))){
  tuesdata <- tidytuesdayR::tt_load('2020-01-07')
  rainfall <- tuesdata$rainfall
  temperature <- tuesdata$temperature
  
  # save the files to RDS objects
  saveRDS(tuesdata$rainfall, file= here("data","tuesdata_rainfall.RDS"))
  saveRDS(tuesdata$temperature, file= here("data","tuesdata_temperature.RDS"))
}

rainfall <- readRDS(here("data","tuesdata_rainfall.RDS"))
temperature <- readRDS(here("data","tuesdata_temperature.RDS"))
```


